@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 220 14% 96%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* 禁用用户选择，用于滑动操作时 */
.no-select {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none; /* 标准语法 */
  touch-action: pan-y; /* 允许垂直滚动但禁止水平滑动的传播 */
  overscroll-behavior: none; /* 防止滚动链接和弹性滚动 */
}

/* 防止弹性滚动效果，用于左右滑动时 - 使用更简单有效的方法 */
.no-elastic-scroll {
  overscroll-behavior: none; /* 防止滚动链接和弹性滚动 */
  touch-action: pan-y; /* 只允许垂直滚动 */
  -webkit-overflow-scrolling: auto; /* 禁用iOS的弹性滚动 */
}

/* 當拉出刪除按鈕時，完全禁止所有滾動方向 */
.no-scroll {
  overscroll-behavior: none;
  touch-action: none; /* 禁止所有滚动方向 */
  -webkit-overflow-scrolling: auto;
  pointer-events: auto; /* 确保仍然可以点击元素 */
}

/* 为.no-elastic-scroll类创建一个特殊情况，只应用于body元素 */
html.no-elastic-scroll,
body.no-elastic-scroll {
  overflow-x: hidden; /* 只禁用水平滚动 */
  touch-action: pan-y; /* 只允许垂直滚动 */
  overscroll-behavior: none; /* 防止滚动弹性效果 */
  /* 移除可能导致视口位置变化的属性 */
  position: relative;
  height: auto;
  width: auto;
}

/* 当需要完全禁止滚动时应用于body和html，但保留滚动位置 */
html.no-scroll,
body.no-scroll {
  /* 不再使用这些样式，我们现在通过 JavaScript 直接设置内联样式 */
}

/* Animation styles for transaction detail */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-fadeIn {
  animation: none;
  opacity: 1;
}

/* For elements that need both fade and position movement */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fadeInUp {
  animation: none;
  opacity: 1;
  transform: translateY(0);
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scaleIn {
  animation: scaleIn 0.2s ease-out;
}

@keyframes scaleInStatic {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-scaleInStatic {
  animation: scaleInStatic 0.2s ease-out;
}

@keyframes pulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
  100% {
    transform: scale(1);
  }
}

.animate-pulse-once {
  animation: pulse 0.3s ease-in-out;
}

/* Toast notification animations */
@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translate(-50%, -20px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

@keyframes fadeOutUp {
  from {
    opacity: 1;
    transform: translate(-50%, 0);
  }
  to {
    opacity: 0;
    transform: translate(-50%, -20px);
  }
}

.animate-fadeInDown {
  animation: none;
  opacity: 1;
  transform: translate(-50%, 0);
}

/* Skeleton loading animation */
@keyframes pulseColor {
  0% {
    background-color: rgba(229, 231, 235, 0.4);
  }
  50% {
    background-color: rgba(209, 213, 219, 0.6);
  }
  100% {
    background-color: rgba(229, 231, 235, 0.4);
  }
}

.animate-pulse-color {
  animation: pulseColor 1.5s ease-in-out infinite;
}

/* Hide scrollbar */
::-webkit-scrollbar {
  display: none;
}

* {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
